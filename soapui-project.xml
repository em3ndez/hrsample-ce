<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project name="hrsample-webapp" soapui-version="3.6.1" abortOnError="false" runType="SEQUENTIAL" resourceRoot="" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="ProjectSettings@projectNature">com.eviware.soapui.soapuiNature</con:setting></con:settings><con:testSuite name="Masterdata TestSuite"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="true" maxResults="0" name="City TestCase" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="true" amfEndpoint="${#Project#webapp_url}/messagebroker/amf" amfLogin="" amfPassword="" id="40688376-d754-45ed-9461-3ab0546637c3"><con:settings/><con:testStep type="properties" name="Global"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:source>${#Project#resources_directory}/globals.properties</con:source><con:target/><con:properties><con:property><con:name>login</con:name><con:value>demo</con:value></con:property><con:property><con:name>password</con:name><con:value>demo</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="amfrequest" name="Startup"><con:settings/><con:config xsi:type="con:AMFRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>startupLanguage</con:name><con:value>en</con:value></con:property></con:properties><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>login.name</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:endpoint/><con:script/><con:amfCall>remoteController.start</con:amfCall></con:config></con:testStep><con:testStep type="amfrequest" name="Login"><con:settings/><con:config xsi:type="con:AMFRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>commands</con:name></con:property></con:properties><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>employees.workspace</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:endpoint/><con:script>def xmlDir = context.expand('${#Project#xml_directory}')
def unmarshaller = new org.jspresso.framework.application.testing.CommandsUnmarshaller(xmlDir);

def commands = new java.util.ArrayList()

def substitutions = [
  'login':context.getProperty('login'),
  'password':context.getProperty('password')
];
unmarshaller.globals = substitutions;

log.info(context.getProperty("AMF_CONNECTION"))

commands.addAll(unmarshaller.readCommands("Login_user_request.xml", substitutions));
commands.addAll(unmarshaller.readCommands("Login_pass_request.xml", substitutions));
commands.addAll(unmarshaller.readCommands("Login_ok_request.xml", substitutions));
commands.addAll(unmarshaller.readCommands("Workspace_select_request.xml", substitutions));

parameters['commands'] = commands</con:script><con:amfCall>remoteController.handleCommands</con:amfCall></con:config></con:testStep><con:testStep type="amfrequest" name="Logout"><con:settings/><con:config xsi:type="con:AMFRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>commands</con:name></con:property></con:properties><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>RemoteRestartCommand</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:endpoint/><con:script>def xmlDir = context.expand('${#Project#xml_directory}')
def unmarshaller = new org.jspresso.framework.application.testing.CommandsUnmarshaller(xmlDir);

def commands = new java.util.ArrayList()

commands.addAll(unmarshaller.readCommands("Logout_request.xml"));

parameters['commands'] = commands</con:script><con:amfCall>remoteController.handleCommands</con:amfCall></con:config></con:testStep><con:loadTest name="City LoadTest"><con:settings><con:setting id="HttpSettings@close-connections">false</con:setting></con:settings><con:threadCount>2</con:threadCount><con:startDelay>0</con:startDelay><con:sampleInterval>250</con:sampleInterval><con:calculateTPSOnTimePassed>true</con:calculateTPSOnTimePassed><con:resetStatisticsOnThreadCountChange>true</con:resetStatisticsOnThreadCountChange><con:historyLimit>-1</con:historyLimit><con:testLimit>60</con:testLimit><con:limitType>TIME</con:limitType><con:loadStrategy><con:type>Simple</con:type></con:loadStrategy><con:assertion type="Step Status" name="Step Status"/><con:maxAssertionErrors>100</con:maxAssertionErrors><con:statisticsLogFolder/><con:statisticsLogInterval>0</con:statisticsLogInterval><con:logStatisticsOnThreadChange>false</con:logStatisticsOnThreadChange><con:cancelOnReachedLimit>false</con:cancelOnReachedLimit><con:cancelExcessiveThreads>true</con:cancelExcessiveThreads><con:strategyInterval>500</con:strategyInterval><con:updateStatisticsPerTestStep>false</con:updateStatisticsPerTestStep></con:loadTest><con:setupScript/><con:properties/></con:testCase><con:properties/><con:setupScript/></con:testSuite><con:properties><con:property><con:name>resources_directory</con:name><con:value>/Users/vvandens/Documents/Jspresso/hrsample/webapp/src/test/resources</con:value></con:property><con:property><con:name>xml_directory</con:name><con:value>${#Project#resources_directory}/commands</con:value></con:property><con:property><con:name>webapp_url</con:name><con:value>http://localhost:8080/hrsample-webapp</con:value></con:property></con:properties><con:wssContainer/></con:soapui-project>